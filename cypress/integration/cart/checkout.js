// prettier-ignore
// const cart = [{valid: true, available: 100, price: 100, order: {"id":212,"status":"cart","message":null,"size":"XS","date":null,"rentalLength":"short","address":null,"paymentMethod":null,"paymentIntent":null,"shipment":null,"product":{"id":5,"name":"Amona","slug":"amona","designer":5,"shortRentalPrice":55,"longRentalPrice":92,"retailPrice":340,"purchasePrice":340,"details":"92% Polyester, 8% Polyurethane","stylistNotes":"This Asymmetric neckline delicately reveals one shoulder and bell shaped sleeve with a split inspires romance that with its Double-faced pleated construction top creates perfect body shape ","sizingNotes":null,"categories_":"dresses,clothing,jumpsuits","colors_":"blue","fits_":"","occasions_":"cocktail,wedding,party,date-night","styles_":"one-shoulder,jumpsuit","weather_":"cold-weather,warm-weather,year-round","published_at":"2021-09-13T15:12:04.514Z","created_by":null,"updated_by":1,"created_at":"2021-05-26T23:01:06.486Z","updated_at":"2021-09-13T15:12:06.571Z","sizes_":"XS,S,M,L,_4XL","materials_":"","metals_":"","sizes":[{"id":27,"quantity":1,"size":"XS","details":null,"sizeRange":null,"units":null,"hips":10,"waist":10,"bust":1,"armpitWidth":20,"lengthFromShoulder":20},{"id":28,"quantity":1,"size":"S","details":null,"sizeRange":null,"units":null,"hips":null,"waist":null,"bust":null,"armpitWidth":null,"lengthFromShoulder":null},{"id":29,"quantity":1,"size":"M","details":null,"sizeRange":null,"units":null,"hips":null,"waist":null,"bust":null,"armpitWidth":null,"lengthFromShoulder":null},{"id":30,"quantity":1,"size":"L","details":null,"sizeRange":null,"units":null,"hips":null,"waist":null,"bust":null,"armpitWidth":null,"lengthFromShoulder":null},{"id":199,"quantity":1,"size":"_4XL","details":null,"sizeRange":null,"units":"cm","hips":null,"waist":null,"bust":null,"armpitWidth":null,"lengthFromShoulder":null}],"images":[{"id":187,"name":"11.png","alternativeText":"","caption":"","width":1080,"height":1920,"formats":{"large":{"ext":".png","url":"/uploads/large_11_ecf6ffd41a.png","hash":"large_11_ecf6ffd41a","mime":"image/png","name":"large_11.png","path":null,"size":271.48,"width":563,"height":1000},"small":{"ext":".png","url":"/uploads/small_11_ecf6ffd41a.png","hash":"small_11_ecf6ffd41a","mime":"image/png","name":"small_11.png","path":null,"size":80.44,"width":281,"height":500},"medium":{"ext":".png","url":"/uploads/medium_11_ecf6ffd41a.png","hash":"medium_11_ecf6ffd41a","mime":"image/png","name":"medium_11.png","path":null,"size":162.42,"width":422,"height":750},"thumbnail":{"ext":".png","url":"/uploads/thumbnail_11_ecf6ffd41a.png","hash":"thumbnail_11_ecf6ffd41a","mime":"image/png","name":"thumbnail_11.png","path":null,"size":11.25,"width":88,"height":156}},"hash":"11_ecf6ffd41a","ext":".png","mime":"image/png","size":471.8,"url":"/uploads/11_ecf6ffd41a.png","previewUrl":null,"provider":"local","provider_metadata":null,"created_by":1,"updated_by":1,"created_at":"2021-05-25T15:52:08.412Z","updated_at":"2021-05-25T15:52:08.668Z"},{"id":226,"name":"62.png","alternativeText":"","caption":"","width":1080,"height":1920,"formats":{"large":{"ext":".png","url":"/uploads/large_62_8b7b1eba39.png","hash":"large_62_8b7b1eba39","mime":"image/png","name":"large_62.png","path":null,"size":236.39,"width":563,"height":1000},"small":{"ext":".png","url":"/uploads/small_62_8b7b1eba39.png","hash":"small_62_8b7b1eba39","mime":"image/png","name":"small_62.png","path":null,"size":70.8,"width":281,"height":500},"medium":{"ext":".png","url":"/uploads/medium_62_8b7b1eba39.png","hash":"medium_62_8b7b1eba39","mime":"image/png","name":"medium_62.png","path":null,"size":142.57,"width":422,"height":750},"thumbnail":{"ext":".png","url":"/uploads/thumbnail_62_8b7b1eba39.png","hash":"thumbnail_62_8b7b1eba39","mime":"image/png","name":"thumbnail_62.png","path":null,"size":10.17,"width":88,"height":156}},"hash":"62_8b7b1eba39","ext":".png","mime":"image/png","size":430.08,"url":"/uploads/62_8b7b1eba39.png","previewUrl":null,"provider":"local","provider_metadata":null,"created_by":1,"updated_by":1,"created_at":"2021-05-25T17:05:34.953Z","updated_at":"2021-05-25T17:05:34.995Z"},{"id":227,"name":"61.png","alternativeText":"","caption":"","width":1080,"height":1920,"formats":{"large":{"ext":".png","url":"/uploads/large_61_880970d638.png","hash":"large_61_880970d638","mime":"image/png","name":"large_61.png","path":null,"size":567.28,"width":563,"height":1000},"small":{"ext":".png","url":"/uploads/small_61_880970d638.png","hash":"small_61_880970d638","mime":"image/png","name":"small_61.png","path":null,"size":165.69,"width":281,"height":500},"medium":{"ext":".png","url":"/uploads/medium_61_880970d638.png","hash":"medium_61_880970d638","mime":"image/png","name":"medium_61.png","path":null,"size":338.85,"width":422,"height":750},"thumbnail":{"ext":".png","url":"/uploads/thumbnail_61_880970d638.png","hash":"thumbnail_61_880970d638","mime":"image/png","name":"thumbnail_61.png","path":null,"size":21.73,"width":88,"height":156}},"hash":"61_880970d638","ext":".png","mime":"image/png","size":977.05,"url":"/uploads/61_880970d638.png","previewUrl":null,"provider":"local","provider_metadata":null,"created_by":1,"updated_by":1,"created_at":"2021-05-25T17:05:35.965Z","updated_at":"2021-05-25T17:05:35.979Z"}]},"user":null,"insurance":null,"created_by":null,"updated_by":null,"created_at":"2021-09-13T15:29:15.053Z","updated_at":"2021-09-13T15:29:15.072Z","shippingDate":null,"startDate":"2021-10-02","coupon":null}}]
// const cartObject = cart.reduce((acc, order) => {
//   acc[order.id] = order
//   return acc
// }, {})

// TODO: create an order on startup. Store order in global state.

context.skip('Checkout', () => {
  before(() => {})
  it('Guest can checkout', () => {
    cy.setLocalStorage('reset-cart', true)
    cy.setLocalStorage('cart', cart)
    cy.visit('/user/checkout')

    cy.get('input[name=firstName]').type('First Name')
    cy.get('input[name=lastName]').type('Last Name')
    cy.get('input[name=address]').type('Address')
    cy.get('input[name=town]').type('Town')
    cy.get('input[name=postcode]').type('Postcode')
    cy.get('input[name=mobileNumber]').type('Mobile Number')
    cy.get('input[name=email]').type('info+test@infinitecloset.co.uk')

    cy.getWithinIframe('[name="cardnumber"]').type('4242424242424242')
    cy.getWithinIframe('[name="exp-date"]').type('1232')
    cy.getWithinIframe('[name="cvc"]').type('987')

    cy.get('button[aria-label*="Authorize"]').click()
    cy.contains('Checkout').click()
  })
})
